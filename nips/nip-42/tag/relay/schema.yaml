$schema: "http://json-schema.org/draft-07/schema#"
allOf:
  - $ref: "@/tag.yaml"
  - type: array
    description: "Relay endpoint that issued the NIP-42 authentication challenge"
    minItems: 2
    items:
      - const: "relay"
      - type: string
        pattern: '^(ws://|wss://).+$'
    additionalItems: false
    errorMessage:
      pattern: "relay tag must include a valid ws or wss URL"
      additionalItems: "relay tag cannot contain extra fields"
